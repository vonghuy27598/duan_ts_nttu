@{
    ViewBag.Title = "DuDoan";
    Layout = "~/Views/Shared/_Layout_TuVan.cshtml";
}
<link href="~/Content/css/form_dudoan.css" rel="stylesheet" />
<div class="dudoan" style="margin-top:100px">
    <h2>ĐỊNH HƯỚNG NGÀNH NGHỀ</h2>
    <div class="form-advisory">
        <div class="select-form">
            <select>
                <option value="1">Cuối năm lớp 11</option>
                <option value="2">Học kỳ 1 lớp 12</option>
                <option value="3">Cuối năm lớp 12</option>
            </select>
        </div>
        <div class="content-form">
            <p style="margin-bottom:10px;color:blue">Vui lòng nhập điểm các môn học</p>
            <table border="1" cellpadding="10">
                <thead>
                    <tr>
                        <th>Tên môn học</th>
                        <th>Điểm cả năm lớp</th>
                    </tr>

                </thead>
                <tbody>
                    <tr>
                        <td>Toán</td>
                        <td><input type="number" id="txtToan" onkeypress="if(this.value.length==2) return false; " class="line-animation" /><div class="line"></div></td>
                    </tr>
                    <tr>
                        <td>Vật lý</td>
                        <td><input type="number" id="txtLy" onkeypress="if(this.value.length==2) return false;" class="line-animation" /><div class="line"></div></td>
                    </tr>
                    <tr>
                        <td>Hóa học</td>
                        <td><input type="number" id="txtHoa" onkeypress="if(this.value.length==2) return false;" class="line-animation" /><div class="line"></div></td>
                    </tr>
                    <tr>
                        <td>Ngữ văn</td>
                        <td><input type="number" id="txtVan" onkeypress="if(this.value.length==2) return false;" class="line-animation" /><div class="line"></div></td>
                    </tr>
                    <tr>
                        <td>Lịch sử</td>
                        <td><input type="number" id="txtSu" onkeypress="if(this.value.length==2) return false;" class="line-animation" /><div class="line"></div></td>
                    </tr>
                    <tr>
                        <td>Địa lý</td>
                        <td><input type="number" id="txtDia" onkeypress="if(this.value.length==2) return false;" class="line-animation" /><div class="line"></div></td>
                    </tr>
                    <tr>
                        <td>Sinh học</td>
                        <td><input type="number" id="txtSinh" onkeypress="if(this.value.length==2) return false;" class="line-animation" /><div class="line"></div></td>
                    </tr>
                    <tr>
                        <td>Anh văn</td>
                        <td><input type="number" id="txtAnh" onkeypress="if(this.value.length==2) return false;" class="line-animation" /><div class="line"></div></td>
                    </tr>

                </tbody>
            </table>
            <a class="btn-dudoan" id="send_dudoan" href="#result">Dự đoán</a>
           
        </div>
        <div class="result-form" id="result">
            <h4 style="font-weight:bold">Bạn có thể theo học các ngành sau:</h4>

           
           
            <ul class="result-tb" style="color: #a90f0f;font-weight: bold;text-align: left;padding-left: 15px;line-height:2"></ul>
            
        </div>
    </div>
</div>




<script>
    $(document).ready(function () {
        $('.menu-tv').removeClass("active");
        $('.tv_dudoan').addClass("active");
    });
    $(document).ready(function () {
        // Add smooth scrolling to all links
        $("#send_dudoan").on('click', function (event) {

            var toan = $('#txtToan').val();
            var ntoan = parseInt(toan);
            $(".result-toan").text(toan);
            var ly = $('#txtLy').val();
            var nly = parseInt(toan);
            $(".result-ly").text(toan);
            var hoa = $('#txtHoa').val();
            var nhoa = parseInt(toan);
            $(".result-hoa").text(toan);
            var sinh = $('#txtSinh').val();
            var nsinh = parseInt(toan);
            $(".result-sinh").text(toan);
            var van = $('#txtVan').val();
            var nvan = parseInt(toan);
            $(".result-van").text(toan);
            var su = $('#txtSu').val();
            var nsu = parseInt(toan);
            $(".result-su").text(toan);
            var dia = $('#txtDia').val();
            var ndia = parseInt(toan);
            $(".result-dia").text(toan);
            var anh = $('#txtAnh').val();
            var nanh = parseInt(toan);
            $(".result-anh").text(toan);

            if (toan.length == 0)
                alert('Vui lòng nhập điểm môn Toán');
            else if (ly.length == 0)
                alert('Vui lòng nhập điểm môn Vật lý');
            else if (hoa.length == 0)
                alert('Vui lòng nhập điểm môn Hóa học');
            else if (van.length == 0)
                alert('Vui lòng nhập điểm môn Ngữ văn');
            else if (su.length == 0)
                alert('Vui lòng nhập điểm môn Lịch sử');
            else if (dia.length == 0)
                alert('Vui lòng nhập điểm môn Địa lý');
            else if (sinh.length == 0)
                alert('Vui lòng nhập điểm môn Sinh học');
            else if (anh.length == 0)
                alert('Vui lòng nhập điểm môn Anh văn');

            else
                if (toan < 0 || toan > 10)
                    alert('Điểm toán khoảng từ 0 đến 10');
                else if (ly < 0 || ly > 10)
                    alert('Điểm lý khoảng từ 0 đến 10');
                else if (hoa < 0 || hoa > 10)
                    alert('Điểm hóa khoảng từ 0 đến 10');
                else if (van < 0 || van > 10)
                    alert('Điểm văn khoảng từ 0 đến 10');
                else if (su < 0 || su > 10)
                    alert('Điểm sử khoảng từ 0 đến 10');
                else if (dia < 0 || dia > 10)
                    alert('Điểm địa khoảng từ 0 đến 10');
                else if (sinh < 0 || sinh > 10)
                    alert('Điểm sinh khoảng từ 0 đến 10');
                else if (anh < 0 || anh > 10)
                    alert('Điểm anh khoảng từ 0 đến 10');

                else {
                    $('.result-form').css('display', 'block');
                    $.ajax({
                        url: "getNganh_TheoDiem",
                        data: { toan: toan, ly: ly, hoa: hoa, van: van, su: su, dia: dia, sinh: sinh, anh: anh },
                        datatype: "json",
                        type: "POST",
                        success: function (response) {
                            $('.result-tb').empty();
                            if (response.status != null)
                            {
                                $.each(response.status, function () {
                                    $('.result-tb').append("<li>" + this + "</li>");
                                })
                            } else {
                                $('.result-tb').append("<li>Không có ngành phù hợp</li>");
                            }
                           
                           
                        }
                    });

                
                    

                    // Make sure this.hash has a value before overriding default behavior
                    // Prevent default anchor click behavior
                    event.preventDefault();

                    // Store hash
                    var hash = this.hash;

                    // Using jQuery's animate() method to add smooth page scroll
                    // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 100, function () {

                        // Add hash (#) to URL when done scrolling (default click behavior)
                        window.location.hash = hash;
                    });

                }

        });

    });
  
    
</script>